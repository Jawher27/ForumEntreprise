<section class="section section-lg creative-section">
  <div class="container">
    <!-- Section header with branding inspired by the design -->
    <div class="text-center mb-5">
      <div class="d-flex align-items-center justify-content-center mb-4">
        <div class="bg-danger" style="height: 2px; width: 60px; margin-right: 15px;"></div>
        <h6 class="text-uppercase font-weight-bold text-muted mb-0">Espace Entreprise</h6>
        <div class="bg-danger" style="height: 2px; width: 60px; margin-left: 15px;"></div>
      </div>
      <h2 class="display-3 font-weight-bold text-dark">Gérez Les offres de stage</h2>
      <p class="lead text-muted col-lg-8 mx-auto">
        Créez et gérez des opportunités pour les étudiants talentueux
      </p>
    </div>
    
    <div class="row row-grid align-items-center">
      <div class="col-md-6 mx-auto">
        <div class="card bg-secondary shadow creative-card">
          <div class="card-body">
            <div class="d-flex align-items-center mb-4">
              <div class="icon icon-lg icon-shape icon-shape-danger shadow rounded-circle mr-4">
                <i class="ni ni-briefcase-24"></i>
              </div>
              <div>
                <h4 class="creative-title">Offre de Stage</h4>
                <p class="text-muted mb-0">Créez une nouvelle opportunité</p>
              </div>
            </div>
            <div class="text-center">
              <button type="button" (click)="openOfferModal()" class="btn btn-danger creative-button">Ajouter une offre</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>


 <!--  ************************ MY OFFERS   SECTION **************************   -->
<section class="section section-lg pt-lg-0 mt--200">

<!--<section class="section section-lg pt-lg-0 mt--200">-->
<!--  <div class="container">-->
<!--    <div class="row justify-content-center">-->
<!--      <div class="col-lg-12">-->
<!--        <div class="row row-grid">-->
<!--          -->
<!--        -->
<!--         &lt;!&ndash; Use *ngFor to iterate over each offer &ndash;&gt;-->
<!--         <div *ngFor="let offre of offers.slice(0, displayedOffers)" class="col-lg-4">-->
<!--            <div class="card card-lift--hover shadow border-0">-->
<!--              <div class="card-body py-5">-->
<!--                <div class="icon icon-shape icon-shape-warning rounded-circle mb-4">-->
<!--                  <i class="ni ni-planet"></i>-->
<!--                  -->
<!--                </div>-->

<!--                <h6 class="text-warning text-uppercase">{{ offre.typeOffre }}</h6>-->
<!--&lt;!&ndash;                <p class="description mt-3"><strong>Required Experience :</strong> {{ offre.experience }}</p> &ndash;&gt;-->
<!--                <p class="description mt-3"><strong>Location :</strong> {{ offre.lieu }}</p> -->
<!--                <p class="description mt-3"> <strong>Posted on:</strong> {{offre.dateCreation | date }}</p> -->

<!--                <p class="description mt-3">{{ offre.description }}</p>-->
<!--                &lt;!&ndash; Action buttons go here &ndash;&gt;-->
<!--                <div class="text-center">-->
<!--                    <button type="button" (click)="openUpdate(offre)" class="btn btn-danger creative-button">Edit Offer</button>-->
<!--                  </div>-->
<!--                  <div class="text-center">-->
<!--                    <button type="button" (click)="delete(offre.idOffre)" class="btn btn-danger creative-button">Delete Offer</button>-->
<!--                  </div>-->
<!--                  <div class="text-center mt-2">-->
<!--                      <button type="button" (click)="openDetailsModal(offre)" class="btn btn-info creative-button">Voir Détails</button>-->
<!--                  </div>-->
<!--                -->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->
<!--  </div>-->
<!--  <div class="text-center mt-4">-->
<!--    <button *ngIf="displayedOffers < offers.length" class="btn btn-primary" (click)="loadMoreOffers()">Show More</button>-->
<!--    &lt;!&ndash; Show Less button &ndash;&gt;-->
<!--    <button *ngIf="displayedOffers > 3" class="btn btn-secondary" (click)="showLessOffers()">Show Less</button>-->
<!--  </div>-->
<!--</section>-->

<!--<section class="section section-lg pt-lg-0 mt--200">-->
<!--    <div class="container">-->
<!--        <div class="row justify-content-center">-->
<!--            <div class="col-lg-12">-->
<!--                <div class="row row-grid">-->
<!--                    &lt;!&ndash; ✅ Affichage des offres &ndash;&gt;-->
<!--                    <div *ngFor="let offre of offers.slice(0, displayedOffers)" class="col-lg-4 mb-4">-->
<!--                        <div class="card card-lift--hover shadow border-0">-->
<!--                            <div class="card-body py-5">-->
<!--                                <div class="icon icon-shape icon-shape-warning rounded-circle mb-4">-->
<!--                                    <i class="ni ni-planet"></i>-->
<!--                                </div>-->

<!--                                <h6 class="text-warning text-uppercase">{{ offre.typeOffre }}</h6>-->
<!--                                <p class="description mt-3"><strong>Lieu :</strong> {{ offre.lieu }}</p>-->
<!--                                <p class="description mt-3"><strong>Durée :</strong> {{ offre.periode }}</p>-->
<!--                                <p class="description mt-3"><strong>Date de début :</strong> {{ offre.dateDebut | date:'yyyy-MM-dd' }}</p>-->
<!--                                <p class="description mt-3"><strong>Date de fin :</strong> {{ offre.dateFin | date:'yyyy-MM-dd' }}</p>-->
<!--                                <p class="description mt-3"><strong>Créé le :</strong> {{ offre.dateCreation | date:'yyyy-MM-dd HH:mm' }}</p>-->
<!--                                <p class="description mt-3">{{ offre.description }}</p>-->

<!--                                &lt;!&ndash; Action buttons &ndash;&gt;-->
<!--                                <div class="text-center">-->
<!--                                    <button type="button" (click)="openUpdate(offre)" class="btn btn-danger creative-button">Edit Offer</button>-->
<!--                                </div>-->
<!--                                <div class="text-center">-->
<!--                                    <button type="button" (click)="delete(offre.idOffre)" class="btn btn-danger creative-button">Delete Offer</button>-->
<!--                                </div>-->
<!--                                <div class="text-center mt-2">-->
<!--                                    <button type="button" (click)="openDetailsModal(offre)" class="btn btn-info creative-button">Voir Détails</button>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="text-center mt-4">-->
<!--        <button *ngIf="displayedOffers < offers.length" class="btn btn-primary" (click)="loadMoreOffers()">Show More</button>-->
<!--        <button *ngIf="displayedOffers > 3" class="btn btn-secondary" (click)="showLessOffers()">Show Less</button>-->
<!--    </div>-->
<!--</section>-->

<!--<section class="section section-lg pt-lg-0 mt--200">-->
<!--    <div class="container">-->
<!--        <div class="row justify-content-center">-->
<!--            <div class="col-lg-12">-->
<!--                <div class="row row-grid">-->
<!--                    &lt;!&ndash; ✅ Affichage des offres &ndash;&gt;-->
<!--                    <div *ngFor="let offre of offers.slice(0, displayedOffers)" class="col-lg-4 mb-4">-->
<!--                        <div class="card card-lift--hover shadow border-0">-->
<!--                            <div class="card-body py-5">-->
<!--                                <div class="icon icon-shape icon-shape-warning rounded-circle mb-4">-->
<!--                                    <i class="ni ni-planet"></i>-->
<!--                                </div>-->

<!--                                <h6 class="text-warning text-uppercase">{{ offre.typeOffre }}</h6>-->
<!--                                <p class="description mt-3"><strong>Lieu :</strong> {{ offre.lieu }}</p>-->
<!--                                <p class="description mt-3"><strong>Durée :</strong> {{ offre.periode }}</p>-->
<!--                                <p class="description mt-3"><strong>Date de début :</strong> {{ offre.dateDebut | date:'yyyy-MM-dd' }}</p>-->
<!--                                <p class="description mt-3"><strong>Date de fin :</strong> {{ offre.dateFin | date:'yyyy-MM-dd' }}</p>-->
<!--                                <p class="description mt-3"><strong>Créé le :</strong> {{ offre.dateCreation | date:'yyyy-MM-dd HH:mm' }}</p>-->
<!--                                <p class="description mt-3">{{ offre.description }}</p>-->

<!--                                &lt;!&ndash; Action buttons &ndash;&gt;-->
<!--                                <div class="text-center">-->
<!--                                    <button type="button" (click)="openUpdate(offre)" class="btn btn-danger creative-button">Edit Offer</button>-->
<!--                                </div>-->
<!--                                <div class="text-center">-->
<!--                                    <button type="button" (click)="delete(offre.idOffre)" class="btn btn-danger creative-button">Delete Offer</button>-->
<!--                                </div>-->
<!--                                <div class="text-center mt-2">-->
<!--                                    <button type="button" (click)="openDetailsModal(offre)" class="btn btn-info creative-button">Voir Détails</button>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="text-center mt-4">-->
<!--        <button *ngIf="displayedOffers < offers.length" class="btn btn-primary" (click)="loadMoreOffers()">Show More</button>-->
<!--        <button *ngIf="displayedOffers > 3" class="btn btn-secondary" (click)="showLessOffers()">Show Less</button>-->
<!--    </div>-->
<!--</section>-->


<section class="section section-lg pt-lg-0 mt--0">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-12">
                <!-- Titre de la section des offres -->
                <div class="text-center mb-5">
                    <h3 class="h4 text-uppercase font-weight-bold">Mes offres publiées</h3>
                    <div class="bg-danger mx-auto" style="height: 2px; width: 50px; margin-top: 15px;"></div>
                </div>
                
                <div class="row row-grid">
                    <!-- Use *ngFor to iterate over each offer -->
                    <div *ngFor="let offre of offers.slice(0, displayedOffers)" class="col-lg-4 mb-4">
                        <div class="card card-lift--hover shadow border-0">
                            <div class="card-body py-5">
                                <!-- Badge de type d'offre -->
<!--                                <div class="d-flex justify-content-between align-items-center mb-4">-->
<!--                                    <span class="badge badge-pill badge-danger text-uppercase px-3">{{ offre.typeOffre }}</span>-->
<!--                                    <div class="icon icon-shape icon-shape-danger rounded-circle">-->
<!--                                        <i class="ni ni-briefcase-24"></i>-->
<!--                                    </div>-->
<!--                                </div>-->
                                <div class="icon icon-shape icon-shape-danger rounded-circle">
                                    <i class="ni ni-briefcase-24"></i>
                                    </div>
                                <!-- Titre de l'offre -->
                                <h5 class="h4 font-weight-bold mb-4">{{ offre.titre }}</h5>
                                
                                <!-- Détails de l'offre -->
                                <ul class="list-unstyled">
                                    <li class="py-1">
                                        <div class="d-flex align-items-center">
                                            <div class="icon icon-xs icon-shape bg-gradient-danger text-white rounded-circle mr-3">
                                                <i class="ni ni-pin-3"></i>
                                            </div>
                                            <div>
                                                <span class="text-muted">Lieu:</span> {{ offre.lieu }}
                                            </div>
                                        </div>
                                    </li>
                                    <li class="py-1">
                                        <div class="d-flex align-items-center">
                                            <div class="icon icon-xs icon-shape bg-gradient-danger text-white rounded-circle mr-3">
                                                <i class="ni ni-calendar-grid-58"></i>
                                            </div>
                                            <div>
                                                <span class="text-muted">Début:</span> {{ offre.dateDebut | date }}
                                            </div>
                                        </div>
                                    </li>
                                    <li class="py-1">
                                        <div class="d-flex align-items-center">
                                            <div class="icon icon-xs icon-shape bg-gradient-danger text-white rounded-circle mr-3">
                                                <i class="ni ni-time-alarm"></i>
                                            </div>
                                            <div>
                                                <span class="text-muted">Publié le:</span> {{ offre.dateCreation | date:'dd/MM/yyyy' }}
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                                
                                <!-- Description avec limite de caractères -->
                                <p class="description mt-3 mb-4" style="min-height: 60px; max-height: 80px; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;">
                                    {{ offre.description }}
                                </p>
                                
                                <!-- Boutons d'action -->
                                <div class="d-flex justify-content-between mt-4">
                                    <button type="button" (click)="openDetailsModal(offre)" class="btn btn-sm btn-info creative-button">
                                        <i class="ni ni-single-copy-04 mr-2"></i> Détails
                                    </button>
                                    <div>
                                        <button type="button" (click)="openUpdate(offre)" class="btn btn-sm btn-danger creative-button mr-2">
                                            <i class="ni ni-settings-gear-65"></i>
                                        </button>
                                        <button type="button" (click)="delete(offre.idOffre)" class="btn btn-sm btn-danger creative-button">
                                            <i class="ni ni-fat-delete"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Message si aucune offre -->
                    <div *ngIf="offers.length === 0" class="col-12 text-center py-5">
                        <div class="icon icon-xl icon-shape icon-shape-danger shadow rounded-circle mb-4 mx-auto">
                            <i class="ni ni-folder-17"></i>
                        </div>
                        <h4 class="text-muted">Aucune offre publiée</h4>
                        <p class="text-muted">Cliquez sur "Ajouter une offre" pour créer votre première offre</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="text-center mt-5">
        <button *ngIf="displayedOffers < offers.length" class="btn btn-primary" (click)="loadMoreOffers()">Voir plus</button>
        <!-- Show Less button -->
        <button *ngIf="displayedOffers > 3" class="btn btn-secondary ml-3" (click)="showLessOffers()">Voir moins</button>
    </div>
</section>


 <!--************************************     MODAL    ************************************-->

<!-- ✅ MODAL AJOUT OFFRE AVEC CHAMPS INTELLIGENTS -->
<ng-template #offerModal let-c="close" let-d="dismiss">
    <div class="modal-content">
        <div class="modal-body p-0">
            <div class="card bg-secondary shadow border-0">
                <div class="card-header bg-white pb-4">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="d-flex align-items-center">
                            <div class="bg-danger" style="height: 20px; width: 3px; margin-right: 10px;"></div>
                            <h5 class="mb-0 font-weight-bold">Ajouter une offre</h5>
                        </div>
                        <button type="button" class="close" (click)="d('Cross click')">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                </div>
                <div class="card-body px-lg-5 py-lg-5">
                    <form role="form" (ngSubmit)="onSubmitForm()">
                        <div class="form-group mb-3">
                            <label for="titre" class="form-control-label text-muted">Titre</label>
                            <div class="input-group input-group-merge">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="ni ni-hat-3"></i></span>
                                </div>
                                <input class="form-control" placeholder="Titre de l'offre" id="titre" name="titre" [(ngModel)]="o.titre">
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label for="typeOffre" class="form-control-label text-muted">Type d'offre</label>
                            <div class="input-group input-group-merge">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="ni ni-tag"></i></span>
                                </div>
                                <select class="form-control" id="typeOffre" name="typeOffre" [(ngModel)]="o.typeOffre" (change)="onTypeChange()">
                                    <option *ngFor="let opt of typeOptions" [ngValue]="opt.value">{{ opt.label }}</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label for="periode" class="form-control-label text-muted">Période</label>
                            <div class="input-group input-group-merge">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                </div>
                                <input class="form-control" id="periode" name="periode" [value]="o.periode" readonly>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="dateDebut" class="form-control-label text-muted">Date de début</label>
                                    <div class="input-group input-group-merge">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <input type="date" class="form-control" id="dateDebut" name="dateDebut" [(ngModel)]="o.dateDebut" (change)="onDateDebutChange()">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group mb-3">
                                    <label for="dateFin" class="form-control-label text-muted">Date de fin</label>
                                    <div class="input-group input-group-merge">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text"><i class="ni ni-calendar-grid-58"></i></span>
                                        </div>
                                        <input class="form-control" id="dateFin" name="dateFin" [value]="o.dateFin | date:'yyyy-MM-dd'" readonly>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label for="lieu" class="form-control-label text-muted">Lieu</label>
                            <div class="input-group input-group-merge">
                                <div class="input-group-prepend">
                                    <span class="input-group-text"><i class="ni ni-pin-3"></i></span>
                                </div>
                                <input class="form-control" placeholder="Lieu du stage" id="lieu" name="lieu" [(ngModel)]="o.lieu">
                            </div>
                        </div>

                        <div class="form-group mb-3">
                            <label for="description" class="form-control-label text-muted">Description</label>
                            <textarea class="form-control" id="description" name="description" [(ngModel)]="o.description" rows="4" placeholder="Décrivez les détails de l'offre..."></textarea>
                        </div>

                        <div class="text-center">
                            <button type="button" class="btn btn-secondary mr-2" (click)="d('Cancel click')">Annuler</button>
                            <button type="submit" class="btn btn-danger creative-button">Soumettre</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</ng-template>


<!-- Modale de détails et candidatures -->
<ng-template #detailsModal let-c="close" let-d="dismiss">
    <div class="modal-content">
        <div class="modal-header bg-white">
            <div class="d-flex align-items-center">
                <div class="bg-danger" style="height: 20px; width: 3px; margin-right: 10px;"></div>
                <h4 class="modal-title font-weight-bold mb-0">Détails de l'offre</h4>
            </div>
            <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        <div class="modal-body">
            <!-- PDF Viewer -->
            <div *ngIf="showCv || showCoverLetter" class="pdf-viewer-container">
                <div class="pdf-viewer-header d-flex justify-content-between align-items-center mb-2">
                    <h5 class="mb-0">{{ showCv ? 'CV' : 'Lettre de motivation' }} - {{ selectedCandidature?.user?.firstName }} {{ selectedCandidature?.user?.lastName }}</h5>
                    <button class="btn btn-sm btn-danger creative-button" (click)="closeViewer()">
                        <i class="ni ni-fat-remove"></i> Fermer
                    </button>
                </div>
                <div class="pdf-viewer-content">
                    <iframe
                            *ngIf="showCv && selectedCandidature?.idCondidature && documentUrls.get(selectedCandidature.idCondidature)?.cvUrl"
                            [src]="documentUrls.get(selectedCandidature.idCondidature).cvUrl"
                            width="100%"
                            height="600"
                            frameborder="0"></iframe>
                    <iframe
                            *ngIf="showCoverLetter && selectedCandidature?.idCondidature && documentUrls.get(selectedCandidature.idCondidature)?.coverLetterUrl"
                            [src]="documentUrls.get(selectedCandidature.idCondidature).coverLetterUrl"
                            width="100%"
                            height="600"
                            frameborder="0"></iframe>
                </div>
            </div>

            <!-- Détails de l'offre -->
            <div [class.d-none]="showCv || showCoverLetter">
                <div class="row">
                    <div class="col-md-12">
                        <div class="card shadow border-0 card-lift--hover">
                            <div class="card-body p-4">
                                <!-- En-tête de l'offre -->
                                <div class="d-flex justify-content-between align-items-center mb-4">
                                    <span class="badge badge-pill badge-danger text-uppercase px-3">{{ selectedOffre.typeOffre }}</span>
                                    <div class="icon icon-shape icon-shape-danger rounded-circle">
                                        <i class="ni ni-briefcase-24"></i>
                                    </div>
                                </div>
                                
                                <!-- Titre de l'offre -->
                                <h4 class="h3 font-weight-bold mb-4">{{ selectedOffre.titre }}</h4>
                                
                                <!-- Informations principales -->
                                <div class="row mb-4">
                                    <div class="col-md-6">
                                        <div class="d-flex align-items-center mb-3">
                                            <div class="icon icon-xs icon-shape bg-gradient-danger text-white rounded-circle mr-3">
                                                <i class="ni ni-pin-3"></i>
                                            </div>
                                            <div>
                                                <span class="text-muted">Lieu:</span> <strong>{{ selectedOffre.lieu }}</strong>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="d-flex align-items-center mb-3">
                                            <div class="icon icon-xs icon-shape bg-gradient-danger text-white rounded-circle mr-3">
                                                <i class="ni ni-calendar-grid-58"></i>
                                            </div>
                                            <div>
                                                <span class="text-muted">Date de début:</span> <strong>{{ selectedOffre.dateDebut | date }}</strong>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="d-flex align-items-center mb-3">
                                            <div class="icon icon-xs icon-shape bg-gradient-danger text-white rounded-circle mr-3">
                                                <i class="ni ni-time-alarm"></i>
                                            </div>
                                            <div>
                                                <span class="text-muted">Publié le:</span> <strong>{{ selectedOffre.dateCreation | date }}</strong>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="d-flex align-items-center mb-3">
                                            <div class="icon icon-xs icon-shape bg-gradient-danger text-white rounded-circle mr-3">
                                                <i class="ni ni-calendar-grid-58"></i>
                                            </div>
                                            <div>
                                                <span class="text-muted">Période:</span> <strong>{{ selectedOffre.periode }}</strong>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Description -->
                                <div class="mb-4">
                                    <h5 class="h6 text-uppercase text-muted">Description</h5>
                                    <div class="p-3 bg-secondary rounded">
                                        <p class="mb-0">{{ selectedOffre.description }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Liste des candidatures -->
                <div class="row mt-4">
                    <div class="col-md-12">
                        <div class="card shadow-sm rounded-lg border-0">
                            <div class="card-header bg-white border-0 py-3">
                                <h5 class="font-weight-bold text-primary mb-0">Liste des candidatures</h5>
                            </div>
                            <div class="card-body px-4">
                                <!-- État vide -->
                                <div *ngIf="candidatures.length === 0" class="text-center py-5">
                                    <div class="empty-state">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="text-muted mb-3">
                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                            <polyline points="14 2 14 8 20 8"></polyline>
                                            <line x1="16" y1="13" x2="8" y2="13"></line>
                                            <line x1="16" y1="17" x2="8" y2="17"></line>
                                            <polyline points="10 9 9 9 8 9"></polyline>
                                        </svg>
                                        <p class="text-muted font-weight-medium">Aucune candidature pour cette offre.</p>
                                    </div>
                                </div>

                                <!-- Table des candidatures -->
                                <div *ngIf="candidatures.length > 0" class="table-responsive">
                                    <table class="table align-items-center table-flush table-hover">
                                        <thead>
                                        <tr>
                                            <th scope="col" class="text-uppercase text-muted font-weight-medium text-xs">Candidat</th>
                                            <th scope="col" class="text-uppercase text-muted font-weight-medium text-xs">État</th>
                                            <th scope="col" class="text-uppercase text-muted font-weight-medium text-xs">Documents</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr *ngFor="let candidature of candidatures" class="border-top">
                                            <td class="py-3">
                                                <div class="d-flex align-items-center">
                                                    <div class="avatar avatar-sm rounded-circle bg-primary text-white mr-3 d-flex align-items-center justify-content-center">
                                                        {{ candidature.user?.firstName.charAt(0) }}{{ candidature.user?.lastName.charAt(0) }}
                                                    </div>
                                                    <div>
                                                        <h6 class="mb-0">{{ candidature.user?.firstName }} {{ candidature.user?.lastName }}</h6>
                                                    </div>
                                                </div>
                                            </td>
                                            <td class="py-3">
                                                <select class="form-select custom-state-select"
                                                        [(ngModel)]="candidature.etatCondidature"
                                                        (change)="updateCandidatureStatus(candidature,candidature.etatCondidature)"
                                                        [ngClass]="getStateCssClass(candidature.etatCondidature)">
                                                    <option *ngFor="let stateOption of getStateOptionsForCandidature(candidature)"
                                                            [value]="stateOption.value"
                                                            [disabled]="!stateOption.selectable"
                                                            [ngClass]="{'state-option': true, 'state-option-disabled': !stateOption.selectable}">
                                                        {{ stateOption.displayName }}
                                                    </option>
                                                </select>
                                            </td>
                                            <td class="py-3">
                                                <div class="d-flex">
                                                    <button (click)="viewCV(candidature)" class="btn btn-sm btn-icon btn-soft-info rounded-circle mr-2" title="Voir le CV">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                                            <polyline points="14 2 14 8 20 8"></polyline>
                                                            <line x1="16" y1="13" x2="8" y2="13"></line>
                                                            <line x1="16" y1="17" x2="8" y2="17"></line>
                                                            <polyline points="10 9 9 9 8 9"></polyline>
                                                        </svg>
                                                    </button>
                                                    <button (click)="viewCoverLetter(candidature)" class="btn btn-sm btn-icon btn-soft-primary rounded-circle" title="Voir la lettre de motivation">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                                        </svg>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div [class.d-none]="showCv || showCoverLetter" class="modal-footer border-top-0">
                    <button type="button" class="btn btn-secondary rounded-pill px-4" (click)="d('Close click')">Fermer</button>
                </div>
            </div>
        </div>
    </div>
</ng-template>


<!--<section class="relative py-20 overflow-hidden">-->
<!--    &lt;!&ndash; Header with branded accent colors &ndash;&gt;-->
<!--    <div class="relative container mx-auto px-6 z-10">-->
<!--        &lt;!&ndash; Section header with branding inspired by the screenshot &ndash;&gt;-->
<!--        <div class="text-center mb-16">-->
<!--            <div class="flex items-center justify-center mb-4">-->
<!--                <div class="h-1 w-16 bg-red-600 mr-3"></div>-->
<!--                <h6 class="text-sm font-bold text-gray-500 uppercase tracking-wider">Employer Portal</h6>-->
<!--                <div class="h-1 w-16 bg-red-600 ml-3"></div>-->
<!--            </div>-->
<!--            <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">Manage Your Internship Offers</h2>-->
<!--            <p class="text-xl text-gray-600 max-w-3xl mx-auto">-->
<!--                Create and manage opportunities for talented students and professionals-->
<!--            </p>-->
<!--        </div>-->

<!--        &lt;!&ndash; Add New Offer Card &ndash;&gt;-->
<!--        <div class="flex justify-center mb-16">-->
<!--            <div class="bg-white rounded-lg border border-gray-200 shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 max-w-md w-full">-->
<!--                <div class="p-6">-->
<!--                    <div class="flex items-center mb-4">-->
<!--                        <div class="h-10 w-10 rounded-full bg-red-100 flex items-center justify-center mr-4">-->
<!--                            <svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">-->
<!--                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>-->
<!--                            </svg>-->
<!--                        </div>-->
<!--                        <div>-->
<!--                            <h4 class="text-lg font-bold text-gray-800">Internship Offer</h4>-->
<!--                            <p class="text-sm text-gray-500">Create a new opportunity for students</p>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="text-center">-->
<!--                        <button type="button" (click)="openOfferModal()" class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded font-medium shadow transition-all w-full">-->
<!--                            Add New Offer-->
<!--                        </button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; Offers grid with Vermeg styling &ndash;&gt;-->
<!--        <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">-->
<!--            <div-->
<!--                    *ngFor="let offre of offers.slice(0, displayedOffers)"-->
<!--                    class="transform transition-all duration-300"-->
<!--            >-->
<!--                <div-->
<!--                        class="bg-white rounded-lg border border-gray-200 shadow-md overflow-hidden h-full hover:shadow-lg relative"-->
<!--                >-->
<!--                    <div class="p-6">-->
<!--                        &lt;!&ndash; Offer header &ndash;&gt;-->
<!--                        <div class="flex items-center justify-between mb-3">-->
<!--              <span-->
<!--                      class="text-xs font-bold text-red-600 uppercase tracking-wider"-->
<!--              >-->
<!--                {{ offre.typeOffre }}-->
<!--              </span>-->
<!--                            <span class="text-xs font-medium text-gray-500">{{ offre.periode }}</span>-->
<!--                        </div>-->

<!--                        &lt;!&ndash; Offer title &ndash;&gt;-->
<!--                        <h3 class="text-xl font-bold text-red-600 mb-3">{{ offre.titre }}</h3>-->

<!--                        &lt;!&ndash; Offer details &ndash;&gt;-->
<!--                        <ul class="text-sm text-gray-600 space-y-2 mb-4">-->
<!--                            <li class="flex items-center">-->
<!--                                <svg-->
<!--                                        class="w-4 h-4 mr-2 text-gray-500"-->
<!--                                        fill="none"-->
<!--                                        stroke="currentColor"-->
<!--                                        viewBox="0 0 24 24"-->
<!--                                >-->
<!--                                    <path-->
<!--                                            stroke-linecap="round"-->
<!--                                            stroke-linejoin="round"-->
<!--                                            stroke-width="2"-->
<!--                                            d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"-->
<!--                                    ></path>-->
<!--                                </svg>-->
<!--                                {{ offre.lieu }}-->
<!--                            </li>-->
<!--                            <li class="flex items-center">-->
<!--                                <svg-->
<!--                                        class="w-4 h-4 mr-2 text-gray-500"-->
<!--                                        fill="none"-->
<!--                                        stroke="currentColor"-->
<!--                                        viewBox="0 0 24 24"-->
<!--                                >-->
<!--                                    <path-->
<!--                                            stroke-linecap="round"-->
<!--                                            stroke-linejoin="round"-->
<!--                                            stroke-width="2"-->
<!--                                            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"-->
<!--                                    ></path>-->
<!--                                </svg>-->
<!--                                {{ offre.dateDebut | date }}-->
<!--                            </li>-->
<!--                            <li class="flex items-center">-->
<!--                                <svg-->
<!--                                        class="w-4 h-4 mr-2 text-gray-500"-->
<!--                                        fill="none"-->
<!--                                        stroke="currentColor"-->
<!--                                        viewBox="0 0 24 24"-->
<!--                                >-->
<!--                                    <path-->
<!--                                            stroke-linecap="round"-->
<!--                                            stroke-linejoin="round"-->
<!--                                            stroke-width="2"-->
<!--                                            d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"-->
<!--                                    ></path>-->
<!--                                </svg>-->
<!--                                Posted {{ offre.dateCreation | date : "MMM d" }}-->
<!--                            </li>-->
<!--                        </ul>-->

<!--                        &lt;!&ndash; Offer description &ndash;&gt;-->
<!--                        <p class="mt-3 text-gray-600 text-sm line-clamp-3">-->
<!--                            {{ offre.description }}-->
<!--                        </p>-->

<!--                        &lt;!&ndash; Action buttons &ndash;&gt;-->
<!--                        <div class="flex flex-wrap gap-3 mt-6">-->
<!--                            <button-->
<!--                                    (click)="openUpdate(offre)"-->
<!--                                    class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm font-medium shadow transition-all"-->
<!--                            >-->
<!--                                Edit Offer-->
<!--                            </button>-->
<!--                            <button-->
<!--                                    (click)="delete(offre.idOffre)"-->
<!--                                    class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 rounded text-sm font-medium transition-all"-->
<!--                            >-->
<!--                                Delete-->
<!--                            </button>-->
<!--                            <button-->
<!--                                    (click)="openDetailsModal(offre)"-->
<!--                                    class="flex items-center ml-auto text-gray-500 hover:text-gray-700 transition-all"-->
<!--                            >-->
<!--                                <span class="text-sm mr-1">Details</span>-->
<!--                                <svg class="w-4 h-4 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">-->
<!--                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>-->
<!--                                </svg>-->
<!--                            </button>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->

<!--        &lt;!&ndash; Pagination &ndash;&gt;-->
<!--        <div class="text-center mt-12">-->
<!--            <button-->
<!--                    *ngIf="displayedOffers < offers.length"-->
<!--                    (click)="loadMoreOffers()"-->
<!--                    class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded font-semibold shadow transition-all"-->
<!--            >-->
<!--                Show More Offers-->
<!--            </button>-->
<!--            <button-->
<!--                    *ngIf="displayedOffers > 3"-->
<!--                    (click)="showLessOffers()"-->
<!--                    class="ml-4 bg-gray-100 hover:bg-gray-200 text-gray-700 px-6 py-3 rounded font-semibold transition-all"-->
<!--            >-->
<!--                Show Less-->
<!--            </button>-->
<!--        </div>-->
<!--    </div>-->
<!--</section>-->

<!--&lt;!&ndash; Add Offer Modal &ndash;&gt;-->
<!--<ng-template #offerModal let-c="close" let-d="dismiss">-->
<!--    <div class="modal-content rounded-lg overflow-hidden">-->
<!--        <div class="bg-white shadow-lg">-->
<!--            <div class="p-6 border-b border-gray-200">-->
<!--                <div class="flex justify-between items-center">-->
<!--                    <div class="flex items-center">-->
<!--                        <div class="h-5 w-1 bg-red-600 mr-3"></div>-->
<!--                        <h3 class="text-xl font-bold text-gray-800">Add New Offer</h3>-->
<!--                    </div>-->
<!--                    <button (click)="d()" class="text-gray-400 hover:text-gray-600">-->
<!--                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">-->
<!--                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>-->
<!--                        </svg>-->
<!--                    </button>-->
<!--                </div>-->
<!--            </div>-->
<!--            <div class="p-6">-->
<!--                <form role="form" (ngSubmit)="onSubmitForm()">-->
<!--                    <div class="space-y-5">-->
<!--                        <div>-->
<!--                            <label for="titre" class="block text-sm font-medium text-gray-700 mb-1">Title</label>-->
<!--                            <input class="w-full bg-white border border-gray-300 rounded px-4 py-2 text-gray-700 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition"-->
<!--                                   placeholder="Offer title" id="titre" name="titre" [(ngModel)]="o.titre">-->
<!--                        </div>-->

<!--                        <div>-->
<!--                            <label for="typeOffre" class="block text-sm font-medium text-gray-700 mb-1">Type d'offre</label>-->
<!--                            <select class="w-full bg-white border border-gray-300 rounded px-4 py-2 text-gray-700 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition"-->
<!--                                    id="typeOffre" name="typeOffre" [(ngModel)]="o.typeOffre" (change)="onTypeChange()">-->
<!--                                <option *ngFor="let opt of typeOptions" [ngValue]="opt.value">{{ opt.label }}</option>-->
<!--                            </select>-->
<!--                        </div>-->

<!--                        <div>-->
<!--                            <label for="periode" class="block text-sm font-medium text-gray-700 mb-1">Période</label>-->
<!--                            <input class="w-full bg-gray-100 border border-gray-300 rounded px-4 py-2 text-gray-700"-->
<!--                                   id="periode" name="periode" [value]="o.periode" readonly>-->
<!--                        </div>-->

<!--                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">-->
<!--                            <div>-->
<!--                                <label for="dateDebut" class="block text-sm font-medium text-gray-700 mb-1">Date de début</label>-->
<!--                                <input type="date" class="w-full bg-white border border-gray-300 rounded px-4 py-2 text-gray-700 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition"-->
<!--                                       id="dateDebut" name="dateDebut" [(ngModel)]="o.dateDebut" (change)="onDateDebutChange()">-->
<!--                            </div>-->

<!--                            <div>-->
<!--                                <label for="dateFin" class="block text-sm font-medium text-gray-700 mb-1">Date de fin</label>-->
<!--                                <input class="w-full bg-gray-100 border border-gray-300 rounded px-4 py-2 text-gray-700"-->
<!--                                       id="dateFin" name="dateFin" [value]="o.dateFin | date:'yyyy-MM-dd'" readonly>-->
<!--                            </div>-->
<!--                        </div>-->

<!--                        <div>-->
<!--                            <label for="lieu" class="block text-sm font-medium text-gray-700 mb-1">Lieu</label>-->
<!--                            <input class="w-full bg-white border border-gray-300 rounded px-4 py-2 text-gray-700 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition"-->
<!--                                   placeholder="Location" id="lieu" name="lieu" [(ngModel)]="o.lieu">-->
<!--                        </div>-->

<!--                        <div>-->
<!--                            <label for="description" class="block text-sm font-medium text-gray-700 mb-1">Description</label>-->
<!--                            <textarea class="w-full bg-white border border-gray-300 rounded px-4 py-2 text-gray-700 focus:ring-2 focus:ring-red-500 focus:border-red-500 transition"-->
<!--                                      id="description" name="description" [(ngModel)]="o.description" rows="4"></textarea>-->
<!--                        </div>-->

<!--                        <div class="text-center pt-4">-->
<!--                            <button type="submit" class="bg-red-600 hover:bg-red-700 text-white px-6 py-3 rounded font-semibold shadow transition-all w-full md:w-auto">-->
<!--                                Submit Offer-->
<!--                            </button>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </form>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</ng-template>-->


<!--&lt;!&ndash; Details Modal &ndash;&gt;-->
<!--<ng-template #detailsModal let-c="close" let-d="dismiss">-->
<!--    <div class="modal-content rounded-lg overflow-hidden">-->
<!--        <div class="bg-white shadow-lg">-->
<!--            &lt;!&ndash; PDF Viewer &ndash;&gt;-->
<!--            <div *ngIf="showCv || showCoverLetter" class="pdf-viewer-container">-->
<!--                <div class="p-4 border-b border-gray-200">-->
<!--                    <div class="flex justify-between items-center">-->
<!--                        <h5 class="text-lg font-semibold text-gray-800">-->
<!--                            {{ showCv ? 'CV' : 'Lettre de motivation' }} - {{ selectedCandidature?.user?.firstName }} {{ selectedCandidature?.user?.lastName }}-->
<!--                        </h5>-->
<!--                        <button class="bg-red-100 hover:bg-red-200 text-red-600 p-2 rounded-full" (click)="closeViewer()">-->
<!--                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">-->
<!--                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>-->
<!--                            </svg>-->
<!--                        </button>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="pdf-viewer-content">-->
<!--                    <iframe-->
<!--                            *ngIf="showCv && selectedCandidature?.idCondidature && documentUrls.get(selectedCandidature.idCondidature)?.cvUrl"-->
<!--                            [src]="documentUrls.get(selectedCandidature.idCondidature).cvUrl"-->
<!--                            width="100%"-->
<!--                            height="600"-->
<!--                            frameborder="0"></iframe>-->
<!--                    <iframe-->
<!--                            *ngIf="showCoverLetter && selectedCandidature?.idCondidature && documentUrls.get(selectedCandidature.idCondidature)?.coverLetterUrl"-->
<!--                            [src]="documentUrls.get(selectedCandidature.idCondidature).coverLetterUrl"-->
<!--                            width="100%"-->
<!--                            height="600"-->
<!--                            frameborder="0"></iframe>-->
<!--                </div>-->
<!--            </div>-->

<!--            &lt;!&ndash; Offer Details &ndash;&gt;-->
<!--            <div [class.d-none]="showCv || showCoverLetter">-->
<!--                <div class="p-6 border-b border-gray-200">-->
<!--                    <div class="flex justify-between items-center">-->
<!--                        <div class="flex items-center">-->
<!--                            <div class="h-5 w-1 bg-red-600 mr-3"></div>-->
<!--                            <h3 class="text-xl font-bold text-gray-800">Offer Details</h3>-->
<!--                        </div>-->
<!--                        <button (click)="d()" class="text-gray-400 hover:text-gray-600">-->
<!--                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">-->
<!--                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>-->
<!--                            </svg>-->
<!--                        </button>-->
<!--                    </div>-->
<!--                </div>-->

<!--                <div class="p-6">-->
<!--                    &lt;!&ndash; Offer Info Card &ndash;&gt;-->
<!--                    <div class="bg-white rounded-lg border border-gray-200 shadow-sm p-5 mb-6">-->
<!--                        <div class="mb-4">-->
<!--              <span class="inline-block px-3 py-1 text-xs font-medium text-red-600 bg-red-100 rounded-full mb-2">-->
<!--                {{ selectedOffre.typeOffre }}-->
<!--              </span>-->
<!--                            <h4 class="text-xl font-bold text-gray-800">{{ selectedOffre.titre }}</h4>-->
<!--                        </div>-->

<!--                        <div class="space-y-3">-->
<!--                            <div class="flex items-start">-->
<!--                                <svg class="w-5 h-5 text-gray-500 mr-3 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">-->
<!--                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"-->
<!--                                          d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>-->
<!--                                </svg>-->
<!--                                <div>-->
<!--                                    <p class="text-sm font-medium text-gray-500">Description</p>-->
<!--                                    <p class="text-gray-700">{{ selectedOffre.description }}</p>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="flex items-center">-->
<!--                                <svg class="w-5 h-5 text-gray-500 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">-->
<!--                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"-->
<!--                                          d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>-->
<!--                                </svg>-->
<!--                                <div>-->
<!--                                    <p class="text-sm font-medium text-gray-500">Location</p>-->
<!--                                    <p class="text-gray-700">{{ selectedOffre.lieu }}</p>-->
<!--                                </div>-->
<!--                            </div>-->

<!--                            <div class="flex items-center">-->
<!--                                <svg class="w-5 h-5 text-gray-500 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">-->
<!--                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"-->
<!--                                          d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>-->
<!--                                </svg>-->
<!--                                <div>-->
<!--                                    <p class="text-sm font-medium text-gray-500">Date de publication</p>-->
<!--                                    <p class="text-gray-700">{{ selectedOffre.dateCreation | date }}</p>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    &lt;!&ndash; Applications Section &ndash;&gt;-->
<!--                    <div class="mt-8">-->
<!--                        <div class="flex items-center mb-4">-->
<!--                            <div class="h-5 w-1 bg-red-600 mr-3"></div>-->
<!--                            <h4 class="text-lg font-bold text-gray-800">Applications</h4>-->
<!--                        </div>-->

<!--                        &lt;!&ndash; Empty State &ndash;&gt;-->
<!--                        <div *ngIf="candidatures.length === 0" class="bg-gray-50 border border-gray-200 rounded-lg p-8 text-center">-->
<!--                            <svg xmlns="http://www.w3.org/2000/svg" class="mx-auto h-12 w-12 text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">-->
<!--                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"-->
<!--                                      d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>-->
<!--                            </svg>-->
<!--                            <p class="text-gray-500 font-medium">No applications yet</p>-->
<!--                            <p class="text-gray-400 text-sm mt-1">Applications will appear here once candidates apply for this position.</p>-->
<!--                        </div>-->

<!--                        &lt;!&ndash; Applications Table &ndash;&gt;-->
<!--                        <div *ngIf="candidatures.length > 0" class="mt-4 overflow-hidden bg-white shadow-sm border border-gray-200 rounded-lg">-->
<!--                            <table class="min-w-full divide-y divide-gray-200">-->
<!--                                <thead class="bg-gray-50">-->
<!--                                <tr>-->
<!--                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Candidate</th>-->
<!--                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>-->
<!--                                    <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Documents</th>-->
<!--                                </tr>-->
<!--                                </thead>-->
<!--                                <tbody class="bg-white divide-y divide-gray-200">-->
<!--                                <tr *ngFor="let candidature of candidatures">-->
<!--                                    <td class="px-6 py-4 whitespace-nowrap">-->
<!--                                        <div class="flex items-center">-->
<!--                                            <div class="flex-shrink-0 h-10 w-10 rounded-full bg-red-100 flex items-center justify-center text-red-600 font-medium">-->
<!--                                                {{ candidature.user?.firstName.charAt(0) }}{{ candidature.user?.lastName.charAt(0) }}-->
<!--                                            </div>-->
<!--                                            <div class="ml-4">-->
<!--                                                <div class="text-sm font-medium text-gray-900">-->
<!--                                                    {{ candidature.user?.firstName }} {{ candidature.user?.lastName }}-->
<!--                                                </div>-->
<!--                                            </div>-->
<!--                                        </div>-->
<!--                                    </td>-->
<!--                                    <td class="px-6 py-4 whitespace-nowrap">-->
<!--                                        <select class="text-sm border border-gray-300 rounded px-3 py-1"-->
<!--                                                [(ngModel)]="candidature.etatCondidature"-->
<!--                                                (change)="updateCandidatureStatus(candidature,candidature.etatCondidature)"-->
<!--                                                [ngClass]="getStateCssClass(candidature.etatCondidature)">-->
<!--                                            <option *ngFor="let stateOption of getStateOptionsForCandidature(candidature)"-->
<!--                                                    [value]="stateOption.value"-->
<!--                                                    [disabled]="!stateOption.selectable">-->
<!--                                                {{ stateOption.displayName }}-->
<!--                                            </option>-->
<!--                                        </select>-->
<!--                                    </td>-->
<!--                                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">-->
<!--                                        <div class="flex space-x-2">-->
<!--                                            <button (click)="viewCV(candidature)"-->
<!--                                                    class="text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100 rounded p-1.5"-->
<!--                                                    title="View CV">-->
<!--                                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">-->
<!--                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"-->
<!--                                                          d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>-->
<!--                                                </svg>-->
<!--                                            </button>-->
<!--                                            <button (click)="viewCoverLetter(candidature)"-->
<!--                                                    class="text-indigo-600 hover:text-indigo-800 bg-indigo-50 hover:bg-indigo-100 rounded p-1.5"-->
<!--                                                    title="View Cover Letter">-->
<!--                                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">-->
<!--                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"-->
<!--                                                          d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>-->
<!--                                                </svg>-->
<!--                                            </button>-->
<!--                                        </div>-->
<!--                                    </td>-->
<!--                                </tr>-->
<!--                                </tbody>-->
<!--                            </table>-->
<!--                        </div>-->
<!--                    </div>-->

<!--                    <div class="flex justify-end mt-6">-->
<!--                        <button type="button" class="bg-gray-100 hover:bg-gray-200 text-gray-700 px-5 py-2 rounded font-medium transition-all" (click)="d()">-->
<!--                            Close-->
<!--                        </button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</ng-template>-->
